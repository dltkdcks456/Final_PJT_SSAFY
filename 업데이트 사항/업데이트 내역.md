### ğŸ› 11.27(ì˜í™” ì œê³µ ìŠ¤íŠ¸ë¦¬ë° ì‚¬ì´íŠ¸ ì¶”ê°€)

- OTTì‚¬ì´íŠ¸ê°€ ì•„ë‹Œ ì˜í™” ì¶”ì²œ ì‚¬ì´íŠ¸ì´ë¯€ë¡œ ìŠ¤íŠ¸ë¦¬ë° ì œê³µì‚¬ ê³µê¸‰ì´ í•„ìš”
  - TMDBì— ì˜í™”ë§ˆë‹¤ ìŠ¤íŠ¸ë¦¬ë° ì •ë³´ë¥¼ ì œê³µ
    - TMDB APIë¥¼ í™œìš©í•´ í•´ë‹¹ ë°ì´í„° ì¶”ê°€ ì €ì¥ ë° ê°€ê³µì²˜ë¦¬ ì§„í–‰(1ëŒ€ N ê´€ê³„)
    - ìŠ¤íŠ¸ë¦¬ë° ì ‘ì† ì‚¬ì´íŠ¸ ë§í¬ë„ ì¶”ê°€ë¡œ ì œê³µ

![image-20221203113226229](ì—…ë°ì´íŠ¸ ë‚´ì—­.assets/image-20221203113226229.png)

```python
# movies/views.py

@api_view(['GET'])
def movie_provieder(request, movie_id):
    '''
    ìŠ¤íŠ¸ë¦¬ë°(ë„·í”Œë¦­ìŠ¤, ì™“ì±  ë“±)ì— ëŒ€í•œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜
    '''
    providers = get_list_or_404(Provider, movie_id = movie_id)
    serializer = ProviderSerializer(providers, many=True)
    return Response(serializer.data)

# movies/models.py
# ìŠ¤íŠ¸ë¦¬ë°(ë„·í”Œë¦­ìŠ¤, ì™“ì±  ë“±) ì •ë³´ë¥¼ ë‹´ëŠ” í…Œì´ë¸”
class Provider(models.Model):
    movie = models.ForeignKey(Movie, on_delete=models.CASCADE)
    provider_link = models.CharField(max_length=200)
    provider_logo_path = models.CharField(max_length=200)
```



- ë¡œê³  ì´ë¯¸ì§€ ì¶œë ¥ ë° í´ë¦­ ì‹œ ë§í¬ë¡œ ì´ë™!

![image-20221203113347356](ì—…ë°ì´íŠ¸ ë‚´ì—­.assets/image-20221203113347356.png)



### ğŸ› 11.29(í”„ë¡œí•„ ì´ë¯¸ì§€ ìƒì„±, ìˆ˜ì •, ì‚­ì œ/íŒ”ë¡œìš°, íŒ”ë¡œì‰,ëŒ“ê¸€,ë¦¬ë·°, í”„ë¡œí•„ì— ì´ë¯¸ì§€ ì ìš©)

- í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ìˆì„ ì‹œ ìœ ì €ì™€ì˜ ì†Œí†µê³¼ ì¹œë°€ê°ì´ ë†’ì•„ì§
  - ê¼­ êµ¬í˜„í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ì´ì—ˆë‹¤
  - ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ form.py ìƒì„±/ modelsì„¤ì •/ views.pyì—ì„œ ì €ì¥ êµ¬í˜„ì´ ì–´ë ¤ì› ë‹¤.
  - ìœ ì €ë§ˆë‹¤ ê³ ìœ ì˜ í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ê°€ì§€ê³  ìˆê³  ì¤‘ë³µ ì €ì¥ë˜ì§€ ì•Šê²Œ êµ¬í˜„ ì§„í–‰!
    - ì´ˆê¸° ì´ë¯¸ì§€ ìƒì„± ì‹œ ìœ ì € ì•„ì´ë””ê°€ ì„ì¸ ì´ë¯¸ì§€ íŒŒì¼ì„ ë³µì‚¬!
    - í•´ë‹¹ ë³µì‚¬ëœ íŒŒì¼ë§Œ ìˆ˜ì •/ì‚­ì œ ë˜ë„ë¡ ì§„í–‰
    - ì‚­ì œ ì‹œ default ì´ë¯¸ì§€ë“¤ ì¤‘ì— í•˜ë‚˜ë¡œ ëœë¤ ì €ì¥ë˜ë„ë¡ êµ¬í˜„

![image-20221203114521663](ì—…ë°ì´íŠ¸ ë‚´ì—­.assets/image-20221203114521663.png)

```python
##### accounts/forms.py
# profile image íŒŒì¼ì„ ë‹´ê¸° ìœ„í•œ form
class UserForm(forms.ModelForm):
    
    class Meta:
        model = get_user_model()
        fields = ('profile_image',)

# accounts/models.py
# íŒ”ë¡œìš°, í”„ë¡œí•„ ì´ë¯¸ì§€ ê¸°ëŠ¥ì„ ìœ„í•œ ëª¨ë¸
class User(AbstractUser):
    followings = models.ManyToManyField('self', symmetrical=False, related_name='followers')
    profile_image = models.ImageField(blank=True, upload_to='images/')

###### accounts/views.py

@api_view(['GET', 'POST', 'DELETE'])
def profile_image(request, user_id):
    '''
    í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê³  ì´ˆê¸°í™”í•˜ê³  ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜
    
    [ë¬¸ì œì‚¬í•­ 1]: ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ë©´ ê¸°ì¡´ ì‚¬ì§„ì€ ì§€ì›Œì§ˆ ìˆ˜ ìˆê²Œ êµ¬í˜„í•˜ëŠ” ê²Œ ì–´ë ¤ì› ë‹¤. -> POST ìš”ì²­ì„ í–ˆì„ ë•Œì—ëŠ” ê¸°ì¡´ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ì‚­ì œí•˜ê³  ì €ì¥í•˜ëŠ” ìª½ìœ¼ë¡œ í•´ê²°
     â€» django-cleanupì„ í™œìš”í•˜ë ¤ê³  í•˜ì˜€ìœ¼ë‚˜, ê¸°ì¡´ í”„ë¡œí•„ì„ ì§€ì›Œë²„ë¦¬ëŠ” í˜„ìƒì´ ë°œìƒ
     
    [ë¬¸ì œì‚¬í•­ 2]: default ì´ë¯¸ì§€ë¥¼ ë‹¤ì–‘í•œ ìƒ‰ìœ¼ë¡œ í‘œí˜„í•˜ê³  ì‹¶ì–´ì„œ ë”°ë¡œ defaults í´ë” ë‚´ì— ê¸°ë³¸ í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ìƒ‰ë³„ë¡œ 4ê°œ ì €ì¥í•´ì£¼ê³  ëœë¤ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê²ƒìœ¼ë¡œ ë³€ê²½
    
    [ë¬¸ì œì‚¬í•­ 3]: ê°€ì¥ ì´ˆê¸°ì˜ ì´ë¯¸ì§€ëŠ” default ì´ë¯¸ì§€ë¥¼ ë³µì‚¬í•´ì„œ íŒŒì¼ëª…ì— ìœ ì €ëª…ì„ í•©ì³ì„œ image í´ë” ë‚´ì— ì €ì¥(ìœ ì €ë³„ ì‚¬ì§„ êµ¬ë¶„ ê°€ëŠ¥)
    '''
    User = get_user_model()
    me = request.user
    person = User.objects.get(id=user_id)
    if request.method == 'GET':
        if person.profile_image:
            serializer = UserSerializer(person)
        else:
            ran = random.sample(range(0, 4), 1)
            image = './media/defaults/default' + str(ran[0]) + '.png'
            shutil.copy(image, './media/images/default'+ str(ran[0]) + person.username + '.png')
            person.profile_image = 'images/default'+ str(ran[0]) + person.username + '.png'
            person.save()
            serializer = UserSerializer(person)
        return Response(serializer.data)
    elif request.method == 'POST':
        if me == person:
            person.profile_image.delete()
            form = UserForm(request.POST, request.FILES, instance=person)
            # print(form.is_valid())
            # print(request.FILES.get('image'))
            if form.is_valid():
                form = form.save(commit=False)
                form.profile_image=request.FILES.get('image')
                form.save()
                # print(form)
            serializer = UserSerializer(person)
            return Response(serializer.data)
    elif request.method == 'DELETE':
        person.profile_image.delete()
        ran = random.sample(range(0, 4), 1)
        image = './media/defaults/default' + str(ran[0]) + '.png'
        # shutil.copy(image, './media/images/default'+ str(ran[0]) + '.png')
        # person.profile_image = 'images/default'+ str(ran[0]) + '.png'
        shutil.copy(image, './media/images/default'+ str(ran[0]) + person.username + '.png')
        person.profile_image = 'images/default'+ str(ran[0]) + person.username + '.png'
        person.save()
        serializer = UserSerializer(person)
        return Response(serializer.data)
```





- ë¯¸ë””ì–´ íŒŒì¼ì— ê¸°ë³¸ í”„ë¡œí•„ì„ ìƒ‰ê¹”ë³„ë¡œ ì¶”ê°€ ì €ì¥
  - ë™ì ì¸ ëŠë‚Œì´ ë³´ì´ë„ë¡ êµ¬í˜„
  - ëœë¤ìœ¼ë¡œ ìƒ‰ê¹”ì´ ì…í˜€ì§€ê²Œ í•¨
  - ê° ìœ ì €ì˜ ì´ë¯¸ì§€ê°€ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ì‹œ í•˜ë‚˜ì˜ ì´ë¯¸ì§€ë§Œ ì €ì¥ë˜ë„ë¡ êµ¬í˜„(DB ì €ì¥ íš¨ìœ¨í™”!)

![image-20221203113456435](ì—…ë°ì´íŠ¸ ë‚´ì—­.assets/image-20221203113456435.png)

```vue
//ProfileView.vue

getProfileImage() {
        axios({
        method: 'post',
            url: `${API_URL}/accounts/wantid/`,
            data: {
            username: this.userName
            },
            headers: { 
              Authorization: `Token ${this.$store.state.token}`
            },
      })
      .then((res) => {
        const id = res.data.userid
        axios({
        method: 'get',
        url: `${API_URL}/accounts/profile_image/${id}/`,
        data: this.image,
        headers: { 
          'Content-Type': 'multipart/form-data',
              Authorization: `Token ${this.$store.state.token}`
            },
        })
        .then((res) => {
          this.profileImageUrl=`${API_URL}${res.data.profile_image}`
        })
        .catch((err) => {
          console.log(err)
        })
        })
      .catch((err) => {
        console.log(err)
      })
    },
    SaveImage() {
      if (!this.image) {
        swal("íŒŒì¼ ì—†ìŒ!", "íŒŒì¼ì„ ì—…ë¡œë“œ í•´ì£¼ì„¸ìš”!", "warning");
      } else {
        axios({
        method: 'post',
            url: `${API_URL}/accounts/wantid/`,
            data: {
            username: this.userName
            },
            headers: { 
              Authorization: `Token ${this.$store.state.token}`
            },
      })
      .then((res) => {
        const id = res.data.userid
        axios({
        method: 'post',
        url: `${API_URL}/accounts/profile_image/${id}/`,
        data: this.image,
        headers: { 
          'Content-Type': 'multipart/form-data',
              Authorization: `Token ${this.$store.state.token}`
            },
        })
        .then((res) => {
          this.profileImageUrl=`${API_URL}${res.data.profile_image}`
          swal("ì—…ë¡œë“œ ì™„ë£Œ!", "í”„ë¡œí•„ í¸ì§‘ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤", "success");
        })
        .catch((err) => {
          console.log(err)
        })
        })
      .catch((err) => {
        console.log(err)
      })
      }
```



### ğŸ› 12.01(ì „êµ­ ì˜í™”ê´€ ìœ„ì¹˜ ì¹´ì¹´ì˜¤ë§µ êµ¬í˜„!)

- í•œêµ­ë¬¸í™”ì •ë³´ì›ì˜ êµ­ë‚´ ì˜í™”ê´€ ìœ„ì¹˜ ë°ì´í„°ë¥¼ ì—‘ì…€íŒŒì¼ë¡œ ë°›ì•„ì™€ì„œ DBì— ì €ì¥
  - csvíŒŒì¼ì„ DBì— ì €ì¥í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµ!

![image-20221203114432347](ì—…ë°ì´íŠ¸ ë‚´ì—­.assets/image-20221203114432347.png)



```python
#movies/views.py

def csv_to_DB(request):
'''
example.csvì´ë¼ëŠ” ì˜í™”ê´€ ê³µê³µë°ì´í„°ë¥¼ í†µí•´ csvë¥¼ DBì— ì €ì¥í•˜ëŠ” í•¨ìˆ˜
[ë¬¸ì œì‚¬í•­]: ìœ„ë„ì™€ ê²½ë„ëŠ” ë¬¸ìë¡œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ì¶”í›„ì— ìˆ«ìë¡œ ë°”ê¿”ì•¼í•œë‹¤.
'''
     data = pandas.read_csv("./movies/example.csv")
     filter_data = data.filter(items=['POI_NM', 'CTPRVN_NM','SIGNGU_NM', 'LEGALDONG_NM', 'LC_LO', 'LC_LA'])
     total_cnt = len(filter_data)
     for i in range(total_cnt):
         Cinema.objects.create(
             name = filter_data.loc[i][0],
             metropolitan_city = filter_data.loc[i][1],
             district = filter_data.loc[i][2],
             region = filter_data.loc[i][3],
             latitude = filter_data.loc[i][4],
             altitude = filter_data.loc[i][5]
             )
```



- ì‹œ, êµ¬, ë™ ë³„ë¡œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì„œ í•´ë‹¹ ì˜í™”ê´€ ìœ„ì¹˜ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜ ì‘ì„±
  - ì‹œ ì„ íƒ ì‹œ í•´ë‹¹ ì‹œì™€ ê´€ë ¨ëœ êµ¬ê°€ ë¶ˆëŸ¬ì™€ì§€ê³ , êµ¬ê°€ ì„ íƒë˜ë©´ ê´€ë ¨ëœ ë™ì´ ë¶ˆëŸ¬ì™€ì§€ë„ë¡ ì„¤ì •
  - êµ¬ì²´ì ì¸ ìœ„ì¹˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆê²Œ í•˜ì—¬ ì†Œë¹„ìê°€ ì›í•˜ëŠ” ì§€ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„

![image-20221203114834094](ì—…ë°ì´íŠ¸ ë‚´ì—­.assets/image-20221203114834094.png)

```python
#movies/views.py

@api_view(['GET'])
def cinema_list(request):
    '''
    ì£¼ì–´ì§„ 3ê°€ì§€ì˜ ì£¼ì†Œ ë°ì´í„°(ê´‘ì—­ì‹œ, êµ¬, ë™)ë¥¼ í†µí•´ í•´ë‹¹ ì˜í™”ê´€ ì°¾ì•„ì„œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
    [ì•„ì´ë””ì–´]: ì¹´ì¹´ì˜¤ ë§µì„ í‘œí˜„í•  ë•Œ ì§€ì—­ ë‹¨ìœ„ë¡œ êµ¬ë¶„í•˜ê³  ì‹¶ì—ˆë‹¤.
    '''
    metropolitan_city = request.GET.get('metropolitan_city')
    district = request.GET.get('district')
    region = request.GET.get('region')
    cinema = Cinema.objects.filter(metropolitan_city=metropolitan_city).filter(district=district).filter(region=region)
    if len(cinema) == 1:
        serializer = CinemaSerializer(cinema[0])
        return Response(serializer.data)
    elif len(cinema) >= 2:
        serializer = CinemaSerializer(cinema, many=True)
        return Response(serializer.data)


@api_view(['GET'])
def district_list(request, city):
    '''
    cityë¥¼ ì„ íƒí•˜ê³  ë‚˜ì„œ ë°ì´í„°ë¥¼ ë°›ì€ í›„ì— districtì˜ ì˜µì…˜ì„ ê²°ì •í•´ì£¼ê¸° ìœ„í•œ í•¨ìˆ˜
    ì˜ˆë¥¼ ë“¤ì–´, ê°•ì›ë„ê°€ ì„ íƒë˜ì–´ì§€ë©´ ê·¸ì— ë”°ë¥¸ êµ¬ë“¤ì´ ì˜µì…˜ì— ë‚˜íƒ€ë‚˜ë„ë¡ í•  ì˜ˆì •
    '''
    cinemas = Cinema.objects.filter(metropolitan_city=city)
    selectcity = cinemas.order_by('district')
    results = selectcity.values_list('district', flat=True).distinct()
    return Response(results)


@api_view(['GET'])
def region_list(request, city, district):
    '''
    ê´‘ì—­ì‹œì™€ êµ¬ì˜ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë„ë¥¼ íŒŒì•…í•˜ëŠ” í•¨ìˆ˜
    [ë¬¸ì œìƒí™©] ê´‘ì—­ì‹œì˜ í•„í„°ë¥¼ ê±¸ì–´ì£¼ì§€ ì•Šìœ¼ë‹ˆ ë‹¤ë¥¸ ê´‘ì—­ì‹œì™€ ê°™ì€ êµ¬ê°€ ê²¹ì³ì„œ ë‚˜ì˜¤ëŠ” ê²½ìš°ê°€ ìƒê²¼ì—ˆë‹¤
    '''
    cinemas = Cinema.objects.filter(metropolitan_city=city).filter(district=district)
    selectcity = cinemas.order_by('region')
    results = selectcity.values_list('region', flat=True).distinct()
    return Response(results)
```



- ì¹´ì¹´ì˜¤ë§µ API í™œìš©
  - ì¹´ì¹´ì˜¤ë§µ API ì‚¬ì´íŠ¸ì— ìì„¸í•˜ê²Œ ì‚¬ìš©ë°©ë²•ì´ ëª…ì‹œë¨
  - Vueì— ì í•©í•œ í˜•íƒœë¡œ í•¨ìˆ˜ ë³€í˜•
  - ë§ˆì»¤ë¡œ ìœ„ì¹˜ê°€ ì°í ìˆ˜ ìˆê²Œ ì¶”ê°€ êµ¬í˜„ ì§„í–‰
- ì–´ë ¤ì› ë˜ ì 
  - JavaScript ë¬¸ë²•ì´ ìµìˆ™ì¹˜ ì•Šì•„ì„œ í˜ë“  ì‚¬í•­ì´ ë§ì•˜ìŒ(ì¶”ê°€ í•™ìŠµ í•„ìš”!)

```vue
initMap() {
      const Lng = Number(this.Lng);
      const Lat = Number(this.Lat);
      const container = document.getElementById("map");
      const options = {
        center: new kakao.maps.LatLng(Lat, Lng),
        level: 3,
      };
      this.map = new kakao.maps.Map(container, options);
      // console.log(this.map)

      // í˜„ì¬ í‘œì‹œë˜ì–´ ìˆëŠ” marker ì œê±°
      if (this.markers.length > 0) {
        this.markers.forEach((item) => {
          item.setMap(null);
        });
      }

      // ë§ˆì»¤ ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
      const imageSrc =
        "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";
      const imageSize = new kakao.maps.Size(24, 35);
      // ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
      const markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);
      this.markerPositions.forEach((position) => {
        const marker = new kakao.maps.Marker({
          map: this.map,
          position: position.latlng,
          // title: position.title,
          image: markerImage,
        });
        // ë§ˆì»¤ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        const infowindow = new kakao.maps.InfoWindow({
          content: `<span style="color: black;">${position.title}</span>`, // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
        });
        // ë§ˆì»¤ì— mouseover ì´ë²¤íŠ¸ì™€ mouseout ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë“±ë¡í•©ë‹ˆë‹¤
        // forë¬¸ì—ì„œ í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ë§ˆì»¤ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë“±ë¡ë©ë‹ˆë‹¤
        kakao.maps.event.addListener(
          marker,
          "mouseover",
          this.makeOverListener(this.map, marker, infowindow)
        );
        kakao.maps.event.addListener(
          marker,
          "mouseout",
          this.makeOutListener(infowindow)
        );
        this.markers.push(marker);
      });

      //ë§ˆì»¤ê°€ 2ê°œ ì´ìƒì¼ ë•Œ ëª¨ë‘ ë³´ì¼ ìˆ˜ ìˆê²Œ ì§€ë„ ì´ë™
      const bounds = this.markerPositions.reduce(
        (bounds, position) => bounds.extend(position.latlng),
        new kakao.maps.LatLngBounds()
      );
      this.map.setBounds(bounds);
    },
    // ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    makeOverListener(map, marker, infowindow) {
      return function () {
        infowindow.open(map, marker);
      };
    },
    // ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
    makeOutListener(infowindow) {
      return function () {
        infowindow.close();
      };
    },
```



### ğŸ› 12.03(ê²€ìƒ‰ ì—”ì§„ ìµœì í™”)

- ğŸ’¥**ë¬¸ì œì ** **ë°œê²¬**
  - @inputì„ í™œìš©í•  ê²½ìš° ìœ ì €ì˜ ì…ë ¥ë§ˆë‹¤ axiosê°€ í˜¸ì¶œë˜ì–´ ë°ì´í„°ê°€ ì¤‘ë³µë˜ì–´ í‘œì‹œë¨
    - ì˜ˆë¥¼ ë“¤ì–´ brad pitt ë°°ìš°ë¥¼ ì…ë ¥í•˜ì˜€ì§€ë§Œ, b/br/brad ê°ê°ì˜ ë°ì´í„°ê°€ ë‚˜ì¤‘ì— ì²˜ë¦¬ë˜ì–´ í™”ë©´ì— í‘œì‹œë˜ì–´ ë²„ë¦¼
  - ë¡œë”© ìŠ¤í”¼ë„ˆê°€ ì—†ì–´ì„œ í™”ë©´ì´ ë°˜ì‘í•˜ê³  ìˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ!

- ğŸ› **ìµœì í™”** **ì§„í–‰**
  - setTimeí•¨ìˆ˜ë¥¼ í†µí•´ ì…ë ¥ í›„ **2.5ì´ˆ** ë’¤ì— axios ìš”ì²­ì´ ì§„í–‰ë˜ë„ë¡ í•¨<span style="color:red;">**(delayê°€ í•µì‹¬!!)**</span>
    - ë‹¨, axios ìš”ì²­ ì‹œ ì…ë ¥ëœ ê°’ê³¼ í˜„ì¬ ê²€ìƒ‰ì…ë ¥ì— ë“¤ì–´ê°„ ê°’ì´ ë™ì¼í•  ê²½ìš°ë§Œ axios ìš”ì²­ì„ ë³´ëƒ„
    - í˜„ì¬ ê²€ìƒ‰ì–´ê°€ ìš”ì²­ ì…ë ¥ê³¼ ë‹¤ë¥¸ ê²½ìš°ì—ëŠ” ë°”ë¡œ returní•˜ê²Œ ì§„í–‰í•˜ì—¬ í˜¸ì¶œë˜ì§€ ì•Šë„ë¡ í•¨
  - ë’¤ëŠ¦ê²Œ ì‘ë‹µëœ ë°ì´í„°ê°€ í˜„ì¬ ë°ì´í„°ë¥¼ ë®ì–´ì”Œì´ëŠ” ê²½ìš°!!!(ì¤‘ë³µ ì—…ë°ì´íŠ¸ ì œê±°!)
    - ë’¤ëŠ¦ê²Œ ì‘ë‹µëœ ë°ì´í„°ì˜ ê²€ìƒ‰ì–´ ì…ë ¥ê°’ì´ í˜„ì¬ì˜ ì…ë ¥ê°’ê³¼ ì¼ì¹˜í•  ê²½ìš°ì—ë§Œ ë®ì–´ì“°ê¸° ì¸ì •
    - í˜„ì¬ì˜ ê²€ìƒ‰ì–´ê°€ ì‘ë‹µë˜ì–´ì˜¨ ê²€ìƒ‰ì–´ì™€ ë‹¤ë¥¼ ê²½ìš° ë®ì–´ì“°ì§€ ì•Šê³  ê·¸ëƒ¥ return
  - ë¡œë”© ìŠ¤í”¼ë„ˆ ì¶”ê°€
    - axios ì „ isLoadingì„ trueë¡œ í•˜ì—¬ ë¡œë”©ë°”ê°€ ëŒë„ë¡ í•˜ì˜€ìœ¼ë©° ì‘ë‹µ í›„ì— falseë¡œ ë¡œë”©ë°”ë¥¼ ì œê±°

![image-20221203115242852](ì—…ë°ì´íŠ¸ ë‚´ì—­.assets/image-20221203115242852.png)

```vue
methods: {
    SearchData(e) {
      //ë­”ê°€ë¥¼ ê±¸ì–´ì¤€ë‹¤.ì‹œê°„ ì§€ì—° -> ìµœì í™” í•„ìš”//
      //ë™ì‘ì´ ë§¤ë„ëŸ½ì§€ ì•Šê³  ë²„ê·¸ê°€ ìƒê¸¸ ìˆ˜ ìˆìŒ//
      
      const inputData = e.target.value
      this.currentData = e.target.value

      //ì…ë ¥ì´ ì—†ì„ ê²½ìš° ë¡œë”© ë²„íŠ¼ì´ ìƒê¸°ì§€ ì•Šê²Œ ì„¤ì •//
      if (inputData.length === 0) {
        this.isLoading = false
        this.searchMovies = []
      } else {
        // ì…ë ¥ í›„ 2500msì˜ ê°„ê²©ì„ ì£¼ê³  ê²€ìƒ‰ì„ ì§„í–‰//
        // í˜„ì¬ ì…ë ¥ê°’ê³¼ ì°¾ì„ ì…ë ¥ê°’ì´ ë‹¤ë¥´ë©´ ì§„í–‰ í•˜ì§€ ì•ŠëŠ”ë‹¤(ê³ ê°ì´ ê³„ì† ì…ë ¥ ì¤‘ì´ë¼ëŠ” ì˜ë¯¸) //
        setTimeout(() => {
          if (inputData === this.currentData) {
            this.isLoading = true
            axios({
              method: 'get',
              url: `${API_URL}/api/v1/movies/search/${inputData}/`
          })
          .then((res) => {
            // ì´ì „ì— ìš”ì²­í•œ ë°ì´í„°ê°€ ë’¤ëŠ¦ê²Œ í™”ë©´ì— ì¶œë ¥ë  ê²½ìš°ê°€ ìˆìŒ//
            // ì˜ˆì „ì˜ ì…ë ¥ê°’ì´ í˜„ì¬ì˜ ì…ë ¥ê°’ê³¼ ê°™ìœ¼ë©´ í™”ë©´ì— ì¶œë ¥í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë°”ë¡œ returní•  ìˆ˜ ìˆê²Œ í•˜ë©´ì„œ ë’¤ëŠ¦ê²Œ ì¶œë ¥ë˜ëŠ” ê²ƒì„ ë°©ì§€//
            if (inputData === this.currentData) {
              this.searchMovies = res.data
              this.isLoading = false
            } else {
              return
            }
          })
          .catch(() => {
              this.searchMovies = []
          })
          } else {
            return
          }
        }, 2500)
      }
      }}
```

